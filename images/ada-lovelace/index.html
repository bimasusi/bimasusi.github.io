<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Galería Ada Lovelace Medellín 2025</title>

<!-- Estilos de lightGallery -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/css/lightgallery-bundle.min.css">

<style>
  body{
    font-family:system-ui,Arial,sans-serif;
    max-width:1000px;
    margin:2rem auto;
    padding:0 1rem;
    background:#fafafa;
  }
  h1{color:#5c308c;margin-bottom:.25rem}
  .back{margin:.25rem 0 1rem}
  .grid{
    display:grid;
    gap:12px;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  }
  .grid img{
    width:100%;
    height:170px;
    object-fit:cover;
    border-radius:10px;
  }
  a{color:#5c308c;text-decoration:none}
</style>
</head>

<body>
<h1>Galería Ada Lovelace Medellín 2025</h1>
<p class="back"><a href="/">← Volver al inicio</a></p>

<div id="galeria" class="grid"></div>

<!-- Librerías -->
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/lightgallery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/plugins/zoom/lg-zoom.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lightgallery@2.7.2/plugins/thumbnail/lg-thumbnail.min.js"></script>

<script>
  /* Configuración flexible para extensiones .jpg / .jpeg / .png */
  const NUM_FOTOS = 40;          // número máximo a intentar
  const PREFIJO   = 'ada';       // cambia si tus fotos se llaman distinto
  const EXT       = ['jpg','jpeg','png'];

  const g = document.getElementById('galeria');

  function testSrc(src){
    return new Promise(ok=>{
      const im = new Image();
      im.onload = ()=> ok(src);
      im.onerror = ()=> ok(null);
      im.src = src;
    });
  }

  async function build(){
    const found = [];
    for(let i=1;i<=NUM_FOTOS;i++){
      for(const e of EXT){
        const src = `${PREFIJO}${i}.${e}`;
        // eslint-disable-next-line no-await-in-loop
        const ok = await testSrc(src);
        if(ok){ found.push(ok); break; }
      }
    }
    if(found.length===0){
      g.innerHTML = '<p>No se encontraron imágenes. Revisa nombres/extensiones.</p>';
      return;
    }
    g.innerHTML = found.map((f,i)=>`
      <a href="${f}" data-sub-html="Ada Lovelace ${i+1}">
        <img src="${f}" alt="Ada Lovelace ${i+1}">
      </a>`).join('');

    lightGallery(g,{
      selector:'a',
      plugins:[lgZoom,lgThumbnail],
      speed:300
    });
  }
  build();
</script>
</body>
</html>
